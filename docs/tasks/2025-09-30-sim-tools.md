# Tasks Log 2025-09-30 — spec:sim-tools

Link the execution milestones from [docs/plan/2025-09-30-sim-tools.md](../plan/2025-09-30-sim-tools.md) to discrete tasks so contributors can track completion.

The expectations recorded on the historical `feature/sim-tools-requirements` branch are now folded into this checklist; track any follow-up discoveries directly here instead of splitting the backlog across branches.

## Milestone 1 — Terminology Alignment
- [ ] `main/ui.gui_script`: rename the Create/Join buttons and related tooltips to **Simulation-Created Room** / **Simulation-Join Room**.
- [ ] `main/main.script`: update status copy and helper text that reference "Create Room" or "Join Room".
- [ ] `docs/spec/sim-tools.md`: ensure the spec terminology reflects the renamed simulator flows.

## Milestone 2 — Workflow Validation Harness
- [ ] `scripts/sim-tools/simulation-created-room.sh`: implement the quick-launch entry point for the simulated room creation flow.
- [ ] `scripts/sim-tools/simulation-join-room.sh`: implement the quick-launch entry point for the simulated join flow.
- [ ] `docs/tasks/2025-09-30-sim-tools.md`: record the multi-process orchestration notes for coordinating the self-test.
- [ ] `main/main.script`: extend lightweight console logging (`TRACE|sim-tools|<action>|<status>`) around room creation/join events.

## Milestone 3 — Proof-of-Concept Sign-off
- [x] Execute and record outcomes for the three validation scenarios defined in `docs/spec/sim-tools.md`.
- [x] Document blockers or bugs discovered during validation, linking to follow-up tasks or tickets in `docs/tasks/`.
- [ ] Update the validation checklist in [docs/spec/sim-tools.md](../spec/sim-tools.md) with current status.

## Notes
- 2025-10-02 — spec:sim-tools: Resolved local join failures on macOS by updating `main/main.script` to prefer non-loopback IPs when determining the broadcast subnet.
- 2025-10-02 — spec:sim-tools: Join CLI now falls back to broadcast-only mode when multicast joins fail; each cycle emits simulator HELLO + runtime `ping` probes and listens for `pong` replies. Current run (broadcast=255.255.255.255, udp_port=53317, duration=5) detected `TRACE|sim.client|discover|match` from Defold host `192.168.31.92` but skipped the TCP join because the payload does not yet expose `tcp_port` (host harness still pending).
- 2025-10-02 — spec:sim-tools: After adding the runtime TCP host, `./scripts/sim-tools/simulation-join-room.sh --broadcast 255.255.255.255 --udp-port 53317 --duration 5` completed successfully with `TRACE|sim.client|join|accept` (roomId=1, players=0).
- 2025-10-02 — spec:sim-tools: Updated runtime IP selection to prioritise `192.168.*`, `10.*`, then `172.16–31.*` addresses so Create Room advertises a reachable subnet instead of VPN/link-local ranges.
